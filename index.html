<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="ë°•ì§„ì„± â¤ï¸ ì •ìˆ˜í˜„ì˜ ê²°í˜¼ì‹ì— ì´ˆëŒ€í•©ë‹ˆë‹¤">
    <meta property="og:description" content="2026ë…„ 5ì›” 16ì¼(í† ), ì €í¬ ë‘ ì‚¬ëŒ ì‹œì‘í•©ë‹ˆë‹¤.">
    <meta property="og:image" content="https://danhopark.github.io/wedding-invitation/images/poster.jpg">
    <meta property="og:url" content="https://danhopark.github.io/wedding-invitation/">

    <title>ë°•ì§„ì„± & ì •ìˆ˜í˜„ ëª¨ë°”ì¼ ì²­ì²©ì¥</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* ìƒë‹¨ <style> íƒœê·¸ ì•ˆì— ì¶”ê°€ */
        input, textarea, button, p, span {
        font-family: 'Noto Sans KR', sans-serif !important;
        }

        /* ìƒë‹¨ <style> ì•ˆì— ì¶”ê°€ */
        .section, footer {
        max-width: 480px; /* PCì—ì„œë„ ìµœëŒ€ 480pxë§Œ ì°¨ì§€í•˜ë„ë¡ ê³ ì • */
        margin-left: auto;
        margin-right: auto;
}
        
        /* --- ê³µí†µ ìŠ¤íƒ€ì¼ --- */
        body { margin: 0; padding: 0; font-family: 'Noto Sans KR', sans-serif; background-color: #f4f4f4; color: #333; touch-action: pan-y; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
        .wrapper { max-width: 480px; margin: 0 auto; background: #fff; min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.05); position: relative; }
        .section { padding: 80px 20px; text-align: center; }
        h3 { font-weight: 400; letter-spacing: 2px; color: #8a7b6a; margin-bottom: 30px; font-size: 1.1rem; }
        hr { border:none; border-top:1px solid #eee; margin:0 20px; }

        ### ğŸ¨ ì¶”ê°€ ìŠ¤íƒ€ì¼ (CSSì— ê¼­ ë„£ì–´ì£¼ì„¸ìš”)

        "ì˜ ì•„ë“¤"ê³¼ "ì˜   ë”¸"ì˜ ê· í˜•ì„ ë§ì¶”ê¸° ìœ„í•´ ìƒë‹¨ `<style>`ì— ì´ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì£¼ì„¸ìš”.

        ```css
        .relation-box {
        display: inline-block;
        width: 70px; /* ê³ ì • ë„ˆë¹„ë¥¼ ì£¼ë©´ ë’·ë¶€ë¶„ ì´ë¦„ì´ ë”± ì •ë ¬ë©ë‹ˆë‹¤ */
        text-align: center;
        font-size: 0.8rem;
        color: #999;
        margin: 0 5px;
        }
        

        /* ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ */
        .reveal { opacity: 0; transform: translateY(40px); transition: all 1.2s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }
        
        /* ìŒì•… ë²„íŠ¼ */
        .music-btn { position: fixed; top: 20px; right: 20px; z-index: 1000; background: rgba(255,255,255,0.8); border-radius: 50%; width: 40px; height: 40px; border: 1px solid #eee; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        /* í—¤ë” & í¬ìŠ¤í„° */
        header { padding: 120px 20px 80px; background: #fffaf7; text-align: center; }
        .date-top { font-size: 1rem; color: #999; letter-spacing: 5px; margin-bottom: 20px; }
        .names { font-size: 2rem; margin: 25px 0; font-weight: 300; letter-spacing: 3px; }
        .main-poster { width: 100%; line-height: 0; }
        .main-poster img { width: 100%; height: auto; display: block; }

        /* 1. ë¶€ëª¨ë‹˜ ì„¹ì…˜ ì „ìš© ëª…ì¡°ì²´ ì„¤ì • (ìš°ì„ ìˆœìœ„ ê°•í™”) */
            .parents-section {
                padding: 30px 0 60px;
                text-align: center;
            }
            
            /* ëª¨ë“  ìì‹ ìš”ì†Œì— ëª…ì¡°ì²´ë¥¼ ê°•ì œë¡œ ì…í™ë‹ˆë‹¤ */
            .parents-section, 
            .parents-section .family-line, 
            .parents-section span {
                font-family: 'Nanum Myeongjo', serif !important;
                line-height: 1.8; /* ìœ„ì•„ë˜ ë¬¸ì¥ ê°„ê²©ì„ ì‹œì›í•˜ê²Œ ë§ì¶¤ */
            }
            
            /* 2. ì¤„ ë§ì¶¤ì˜ í•µì‹¬: 'ì˜ ì•„ë“¤/ë”¸' ìƒì ê³ ì • ë„ˆë¹„ */
            .family-line {
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 12px; /* ìƒí•˜ ë¬¸ì¥ ê°„ê²©ì„ ì¼ì •í•˜ê²Œ ê³ ì • */
                font-size: 0.95rem;
                color: #444;
            }
            
            .relation-box {
                display: inline-block;
                width: 85px;          /* ë„‰ë„‰í•œ ë„ˆë¹„ë¥¼ ì£¼ì–´ ì´ë¦„ ì •ë ¬ ê¸°ì¤€ì„ ì„ ë§Œë“­ë‹ˆë‹¤ */
                text-align: center;
                font-size: 0.8rem;
                color: #999;
            }
            
            /* 3. 'ì˜ ë”¸' ê°„ê²© ë²Œë¦¬ê¸° (ì˜ ì•„ë“¤ê³¼ ì‹œê°ì  ê¸¸ì´ ë§ì¶¤) */
            .spacing-daughter {
                letter-spacing: 10px; /* 'ì˜'ì™€ 'ë”¸' ì‚¬ì´ë¥¼ ì‹œì›í•˜ê²Œ ë²Œë¦½ë‹ˆë‹¤ */
                padding-left: 10px;   /* ë²Œì–´ì§„ ë§Œí¼ ì™¼ìª½ ì—¬ë°±ì„ ì£¼ì–´ ì •ì¤‘ì•™ ì •ë ¬ */
            }
            
            .parents-names {
                letter-spacing: 1px;
            }
            
            .bride-groom-name {
                font-size: 1.05rem;
                font-weight: bold;
                color: #222;
                width: 60px; /* ì´ë¦„ ì‹œì‘ ìœ„ì¹˜ë¥¼ ê³ ì •í•˜ê¸° ìœ„í•œ ìµœì†Œ ë„ˆë¹„ */
                text-align: left;
            }

        
        /* ê°¤ëŸ¬ë¦¬ (ì¤‘ì•™ ì •ë ¬ ë³µêµ¬) */
        .gallery-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 0 15px; justify-items: center; align-items: center; }
        .heart-box { aspect-ratio: 1 / 1; width: 100%; max-width: 130px; cursor: pointer; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.08)); }
        .heart-box img { width: 100%; height: 100%; object-fit: cover; clip-path: url(#heartClip); pointer-events: none; }

        /* íŒì—… ëª¨ë‹¬ (ì¤‘ì•™ ì •ë ¬ ë³µêµ¬) */
        #imageModal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.98); }
        .close-btn { position: absolute; top: 20px; right: 20px; color: #fff; font-size: 40px; cursor: pointer; z-index: 2002; }
        .modalSwiper { width: 100%; height: 100%; }
        .modalSwiper .swiper-slide { display: flex !important; align-items: center !important; justify-content: center !important; }
        .modalSwiper .swiper-slide img { max-width: 100%; max-height: 85vh; object-fit: contain; pointer-events: none; }
        .swiper-button-next, .swiper-button-prev { color: rgba(255,255,255,0.7); transform: scale(0.6); }

        /* ì°¸ì„ ì—¬ë¶€ í¼ */
        .rsvp-form { text-align: left; max-width: 350px; margin: 0 auto; background: #fff; padding: 30px 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .rsvp-form label { font-size: 0.85rem; color: #8a7b6a; font-weight: bold; }
        .rsvp-form input[type="text"], .rsvp-form select { width: 100%; padding: 12px; margin: 8px 0 18px; border: 1px solid #eee; border-radius: 6px; box-sizing: border-box; }
        .btn-submit { width: 100%; padding: 16px; background: #8a7b6a; color: #fff; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 1rem; margin-top: 10px; }

        /* ë‹¬ë ¥ & D-day */
        .calendar-wrap { margin: 0 auto; max-width: 350px; background: #fdfaf7; padding: 30px 15px; border-radius: 15px; }
        .d-day-tag { display: inline-block; background: #8a7b6a; color: #fff; padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-bottom: 20px; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; font-size: 0.85rem; }
        .weekday { font-weight: bold; color: #bbb; padding-bottom: 12px; }
        .day { padding: 10px 0; }
        .sun { color: #e74c3c; }
        .d-day-circle { background-color: #8a7b6a; color: #fff; border-radius: 50%; font-weight: bold; }

        /* ì§€ë„ (ê³ ì • í¬ê¸° ë³µêµ¬) */
        #map { width: 100%; height: 300px; margin: 25px 0; border-radius: 8px; border: 1px solid #eee; }
        .map-btns { display: flex; gap: 10px; justify-content: center; }
        .btn-map { padding: 12px; background: #fff; border: 1px solid #ddd; border-radius: 6px; text-decoration: none; color: #555; font-size: 0.85rem; flex: 1; max-width: 130px; }
        
        /* ê³„ì¢Œë²ˆí˜¸ */
        .account-box { margin-bottom: 15px; border: 1px solid #eee; border-radius: 8px; overflow: hidden; background: #fff; }
        .toggle-btn { width: 100%; padding: 18px; background: #fdfdfd; border: none; cursor: pointer; display: flex; justify-content: space-between; font-size: 0.95rem; color: #666; }
        .account-details { display: none; padding: 25px; background: #fafafa; text-align: left; font-size: 0.9rem; line-height: 2.2; border-top: 1px solid #eee; }
        .copy-btn { padding: 4px 10px; font-size: 0.75rem; background: #f0f0f0; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; color: #666; }

        footer { padding: 80px 20px; font-size: 0.85rem; color: #bbb; background: #fdfaf7; text-align: center; }
          /* ë°©ëª…ë¡ ì¤„ë°”ê¿ˆ ìœ ì§€ */
        #guestbook-list div { white-space: pre-wrap; word-break: break-all; }
   
   </style>
</head>
<body>

<svg width="0" height="0" style="position:absolute; pointer-events:none;">
    <defs>
        <clipPath id="heartClip" clipPathUnits="objectBoundingBox">
            <path d="M0.5,0.95 C0.5,0.95 0.05,0.65 0.05,0.35 C0.05,0.15 0.2,0.05 0.35,0.05 C0.45,0.05 0.5,0.15 0.5,0.15 C0.5,0.15 0.55,0.05 0.65,0.05 C0.8,0.05 0.95,0.15 0.95,0.35 C0.95,0.65 0.5,0.95 0.5,0.95 Z" />
        </clipPath>
    </defs>
</svg>

<div id="imageModal">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <div class="swiper modalSwiper">
        <div class="swiper-wrapper" id="modalWrapper"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</div>

<div class="wrapper"> <div class="music-btn" onclick="toggleMusic()">
        <span id="musicIcon">â–¶ï¸</span>
        <audio id="bgm" src="music/bgm.mp3" loop autoplay playsinline></audio>
    </div>

      <header>
        <p class="date-top">2026 . 05 . 16</p>
        <h1 class="names">ë°•ì§„ì„± & ì •ìˆ˜í˜„</h1>
        
        <p style="line-height:2; color:#666; font-size:0.95rem; margin-bottom: 40px;">
            ê°‘ì‘ìŠ¤ë ˆ ì†Œë‚˜ê¸°ê°€ ìŸì•„ì§€ë˜ ì²« ë§Œë‚¨<br>
            ì‘ì€ ìš°ì‚° ì•„ë˜ ë§ë‹¿ë˜ ì–´ê¹¨, ì–´ìƒ‰í•œ ë¯¸ì†Œ<br>
            ê·¸ë ‡ê²Œ ì‚¬ë‘ì„ í‚¤ì›Œì˜¨ ì €í¬ê°€<br>
            ì´ì œëŠ” í•˜ë‚˜ë‹˜ ì•ˆì—ì„œ í•˜ë‚˜ê°€ ë˜ê³ ì í•©ë‹ˆë‹¤.<br><br>
            ì´ ì‹ ì‹¤í•œ ì•½ì†ì˜ ìë¦¬ì— ë™í–‰í•˜ì‹œì–´<br>
            í•¨ê»˜ ì¶•ë³µí•´ì£¼ì‹œê¸¸ ì†Œë§í•©ë‹ˆë‹¤.
        </p>
    
        <div class="parents-section reveal">
            <div class="family-line">
                <span class="parents-names">ë°•ë³‘ì¬ Â· ê°•ì€ì£¼</span>
                <span class="relation-box">ì˜ ì•„ë“¤</span>
                <span class="bride-groom-name">ì§„ì„±</span>
            </div>
            
            <div class="family-line">
                <span class="parents-names">ì •ë³‘ê¶Œ Â· í™©ì€ìˆœ</span>
                <span class="relation-box spacing-daughter">ì˜ ë”¸</span>
                <span class="bride-groom-name">ìˆ˜í˜„</span>
            </div>
        </div>
    </header>

    <div class="main-poster reveal">
        <img src="images/poster.jpg" alt="ë©”ì¸ í¬ìŠ¤í„°">
    </div>

    <hr>

    <div class="section reveal">
        <h3>GALLERY</h3>
        <div class="gallery-grid" id="originalGallery">
            <div class="heart-box" onclick="openModal(0)"><img src="images/photo1.jpg"></div>
            <div class="heart-box" onclick="openModal(1)"><img src="images/photo2.jpg"></div>
            <div class="heart-box" onclick="openModal(2)"><img src="images/photo3.jpg"></div>
            <div class="heart-box" onclick="openModal(3)"><img src="images/photo4.jpg"></div>
            <div class="heart-box" onclick="openModal(4)"><img src="images/photo5.jpg"></div>
            <div class="heart-box" onclick="openModal(5)"><img src="images/photo6.jpg"></div>
            <div class="heart-box" onclick="openModal(6)"><img src="images/photo7.jpg"></div>
            <div class="heart-box" onclick="openModal(7)"><img src="images/photo8.jpg"></div>
            <div class="heart-box" onclick="openModal(8)"><img src="images/photo9.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(9)" style="display: none;"><img src="images/photo10.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(10)" style="display: none;"><img src="images/photo11.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(11)" style="display: none;"><img src="images/photo12.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(12)" style="display: none;"><img src="images/photo13.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(13)" style="display: none;"><img src="images/photo14.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(14)" style="display: none;"><img src="images/photo15.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(15)" style="display: none;"><img src="images/photo16.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(16)" style="display: none;"><img src="images/photo17.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(17)" style="display: none;"><img src="images/photo18.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(18)" style="display: none;"><img src="images/photo19.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(19)" style="display: none;"><img src="images/photo20.jpg"></div>
            <div class="heart-box more-photo" onclick="openModal(20)" style="display: none;"><img src="images/photo21.jpg"></div>
        </div>
        <button id="gallery-toggle-btn" onclick="toggleGallery()" style="margin-top: 30px; padding: 10px 20px; background: none; border: 1px solid #8a7b6a; color: #8a7b6a; border-radius: 20px; font-size: 0.85rem; cursor: pointer;">
            ì‚¬ì§„ ë” ë³´ê¸° âˆ¨
        </button>
    </div>

    <div class="section reveal" style="background: #fffaf7;">
        <h3>ì°¸ì„ ì—¬ë¶€</h3>
        <div class="rsvp-form">
            <form id="rsvpForm">
                <label>ì„±í•¨</label>
                <input type="text" id="rsvp-name" placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" required>
                <label>ì°¸ì„ ì—¬ë¶€</label>
                <div style="margin: 10px 0 20px;">
                    <input type="radio" name="attendance" value="ì°¸ì„" id="att-yes" onclick="toggleRSVP(true)"> <label for="att-yes" style="margin-right: 15px;">ì°¸ì„</label>
                    <input type="radio" name="attendance" value="ë¯¸ì •" id="att-mid" onclick="toggleRSVP(true)"> <label for="att-mid" style="margin-right: 15px;">ë¯¸ì •</label>
                    <input type="radio" name="attendance" value="ë¶ˆì°¸" id="att-no" onclick="toggleRSVP(false)"> <label for="att-no">ë¶ˆì°¸</label>
                </div>
                <div id="additional-rsvp" style="display:none;">
                    <label>ì°¸ì„ ì¸ì› (ë³¸ì¸ í¬í•¨)</label>
                    <select id="rsvp-count">
                        <option value="1">1ëª…</option><option value="2">2ëª…</option><option value="3">3ëª…</option><option value="4">4ëª…</option><option value="5">5ëª…</option>
                    </select>
                    <label>ì‹ì‚¬ ì—¬ë¶€</label>
                    <select id="rsvp-meal"><option value="O">ì‹ì‚¬ ì˜ˆì •</option><option value="X">ì‹ì‚¬ ì•ˆí•¨</option></select>
                </div>
                <button type="button" class="btn-submit" onclick="submitRSVP()">ì°¸ì„ ëª…ë‹¨ ë“±ë¡í•˜ê¸°</button>
            </form>
        </div>
    </div>

    <div class="section reveal">
        <h3>CALENDAR</h3>
        <div class="calendar-wrap">
            <div id="d-day-count" class="d-day-tag">D-Day</div>
            <div class="calendar-header">2026. 05. 16. SAT</div>
            <div class="calendar-grid" id="calendar-area"></div>
        </div>
    </div>

    <div class="section reveal">
        <h3>LOCATION</h3>
        <p><strong>ì—¬ìˆ˜ ë§ˆë¦¬ë‚˜ ì›¨ë”©í™€</strong></p>
        <p style="font-size: 0.85rem; color: #888;">ì „ë‚¨ ì—¬ìˆ˜ì‹œ ì„ ì†Œë¡œ 25</p>
        <div id="map"></div>
        <div class="map-btns">
            <a href="https://map.kakao.com/link/to/ì—¬ìˆ˜ë§ˆë¦¬ë‚˜ì›¨ë”©í™€,34.756854435255,127.66424876634" class="btn-map" target="_blank">ì¹´ì¹´ì˜¤ë§µ</a>
            <a href="https://map.naver.com/v5/search/ì—¬ìˆ˜ë§ˆë¦¬ë‚˜ì›¨ë”©í™€" class="btn-map" target="_blank">ë„¤ì´ë²„ ì§€ë„</a>
        </div>
    </div>

    <hr>

    <div class="section reveal" style="background: #fdfaf7;">
        <h3>ë§ˆìŒ ì „í•˜ì‹¤ ê³³</h3>
        <div class="account-box">
            <button class="toggle-btn" onclick="toggleAccount('groom')"><span>ì‹ ë‘ì¸¡ ê³„ì¢Œë²ˆí˜¸</span> <span id="groom-arrow">â–¼</span></button>
            <div id="groom-details" class="account-details">
                <p>ì‹ ë‘ ë°•ì§„ì„± <br> <strong>êµ­ë¯¼ 123-456-7890</strong> <button class="copy-btn" onclick="copyAccount('123-456-7890')">ë³µì‚¬</button></p>
            </div>
        </div>
        <div class="account-box">
            <button class="toggle-btn" onclick="toggleAccount('bride')"><span>ì‹ ë¶€ì¸¡ ê³„ì¢Œë²ˆí˜¸</span> <span id="bride-arrow">â–¼</span></button>
            <div id="bride-details" class="account-details">
                <p>ì‹ ë¶€ ì •ìˆ˜í˜„ <br> <strong>ìš°ë¦¬ 111-222-3333</strong> <button class="copy-btn" onclick="copyAccount('111-222-3333')">ë³µì‚¬</button></p>
            </div>
        </div>
    </div>

    <div class="section reveal">
        <h3>GUESTBOOK</h3>
        <div style="max-width: 400px; margin: 0 auto 40px; background: #fafafa; padding: 20px; border-radius: 12px; text-align: left;">
            <label style="font-size: 0.8rem; color: #8a7b6a; font-weight: bold;">ë‹‰ë„¤ì„</label>
            <input type="text" id="gb-nickname" placeholder="ì´ë¦„" style="width: 100%; padding: 10px; margin: 5px 0 15px; border: 1px solid #ddd; border-radius: 5px;">
            <label style="font-size: 0.8rem; color: #8a7b6a; font-weight: bold;">ì¶•í•˜ ë©”ì‹œì§€</label>
            <textarea id="gb-message" placeholder="ì¶•í•˜ì˜ í•œë§ˆë””ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”." style="width: 100%; height: 80px; padding: 10px; margin: 5px 0 15px; border: 1px solid #ddd; border-radius: 5px; resize: none; font-family: inherit;"></textarea>
            <button type="button" onclick="submitGuestbook()" style="width: 100%; padding: 12px; background: #8a7b6a; color: #fff; border: none; border-radius: 5px; font-weight: bold;">ë©”ì‹œì§€ ë‚¨ê¸°ê¸°</button>
        </div>
        <div id="guestbook-list" style="max-width: 400px; margin: 0 auto; text-align: left;">
            <p style="text-align: center; color: #ccc;">ë©”ì‹œì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
        </div>
    </div>

    <footer><p>Â© 2026 Jinseong & Suhyun</p></footer>
</div> ```





<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0ebf1ad76dafaaef0163552b448e5e8a"></script>

<script>
    /* 1. ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ */
    function reveal() {
        var reveals = document.querySelectorAll(".reveal");
        for (var i = 0; i < reveals.length; i++) {
            var windowHeight = window.innerHeight;
            var elementTop = reveals[i].getBoundingClientRect().top;
            if (elementTop < windowHeight - 100) reveals[i].classList.add("active");
        }
    }
    window.addEventListener("scroll", reveal); window.addEventListener("load", reveal);

    /* 2. ê°¤ëŸ¬ë¦¬ íŒì—… & ì¤‘ì•™ ì •ë ¬ ë³´ì • */
    var modalSwiper;
    window.addEventListener('load', function() {
        const modalWrapper = document.getElementById('modalWrapper');
        const originalImages = document.querySelectorAll('#originalGallery .heart-box img');
        originalImages.forEach(img => {
            const slide = document.createElement('div'); slide.className = 'swiper-slide';
            const newImg = document.createElement('img'); newImg.src = img.src;
            slide.appendChild(newImg); modalWrapper.appendChild(slide);
        });
        modalSwiper = new Swiper(".modalSwiper", { 
            spaceBetween: 20, 
            navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
            observer: true, 
            observeParents: true 
        });
    });
    function openModal(index) {
        document.getElementById("imageModal").style.display = "block";
        document.body.style.overflow = "hidden";
        if (modalSwiper) modalSwiper.slideTo(index, 0);
    }
    function closeModal() { document.getElementById("imageModal").style.display = "none"; document.body.style.overflow = "auto"; }

    /* 3. RSVP ì¡°ê±´ë¶€ ë…¸ì¶œ & ë°ì´í„° ì „ì†¡ */
    function toggleRSVP(show) { 
        document.getElementById('additional-rsvp').style.display = show ? 'block' : 'none'; 
    }
    
 function submitRSVP() {
    // 1. [ì²´í¬] ì£¼ì†Œ ëì´ formResponse ì¸ì§€ ë‹¤ì‹œ í™•ì¸!
    const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSf5jUd7mNWI976uVeXp5YBqitXLrtTEyeIf0AUtUH3vE8Hmbg/formResponse";
    
    const name = document.getElementById("rsvp-name").value;
    const attendance = document.querySelector('input[name="attendance"]:checked')?.value;
    
    if (!name || !attendance) { alert("ì„±í•¨ê³¼ ì°¸ì„ ì—¬ë¶€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."); return; }

    const formData = new FormData();
    formData.append("entry.29244752", name);             // ì„±í•¨
    formData.append("entry.1798204085", attendance);     // ì°¸ì„/ë¶ˆì°¸/ë¯¸ì •

    // [ì¤‘ìš”] ë¶ˆì°¸ì´ ì•„ë‹ ë•Œë§Œ ì¸ì›ê³¼ ì‹ì‚¬ ì •ë³´ ì „ì†¡
    if (attendance !== "ë¶ˆì°¸") {
        // ì¸ì› ì„ íƒì§€ì˜ valueê°€ "1", "2" ì²˜ëŸ¼ ìˆ«ìë§Œ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
        formData.append("entry.1424019092", document.getElementById("rsvp-count").value); 
        // ì‹ì‚¬ ì—¬ë¶€ì˜ valueëŠ” "O" ë˜ëŠ” "X" ì—¬ì•¼ í•©ë‹ˆë‹¤.
        formData.append("entry.515197960", document.getElementById("rsvp-meal").value);   
    }

    fetch(formUrl, { method: "POST", mode: "no-cors", body: formData }).then(() => {
        alert("ì†Œì¤‘í•œ ì •ë³´ê°€ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!");
        document.getElementById("rsvpForm").reset();
        toggleRSVP(false);
    }).catch(() => alert("ì „ì†¡ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."));
}

    /* 4. ë‹¬ë ¥ ë³µêµ¬ */
    function initCalendar() {
        const weddingDate = new Date("2026-05-16"); const today = new Date();
        today.setHours(0,0,0,0); weddingDate.setHours(0,0,0,0);
        const diff = weddingDate - today;
        const dDay = Math.ceil(diff / (1000 * 60 * 60 * 24));
        document.getElementById('d-day-count').innerText = dDay > 0 ? "D-" + dDay : (dDay === 0 ? "D-Day" : "D+" + Math.abs(dDay));
        const area = document.getElementById('calendar-area');
        let html = '<div class="weekday sun">ì¼</div><div class="weekday">ì›”</div><div class="weekday">í™”</div><div class="weekday">ìˆ˜</div><div class="weekday">ëª©</div><div class="weekday">ê¸ˆ</div><div class="weekday">í† </div>';
        for (let i = 0; i < 5; i++) html += '<div class="day"></div>'; 
        for (let d = 1; d <= 31; d++) {
            let cls = 'day'; if (d === 16) cls += ' d-day-circle'; else if ((d + 5) % 7 === 1) cls += ' sun';
            html += `<div class="${cls}">${d}</div>`;
        }
        area.innerHTML = html;
    }
    initCalendar();

    

    /* 5. ì§€ë„ & ìŒì•… & ê³„ì¢Œ */
    var hallLoc = new kakao.maps.LatLng(34.756854435255, 127.66424876634);
    var map = new kakao.maps.Map(document.getElementById('map'), { center: hallLoc, level: 3 });
    new kakao.maps.Marker({ position: hallLoc }).setMap(map);
    map.setDraggable(false); map.setZoomable(false);

    const bgm = document.getElementById('bgm'); const mIcon = document.getElementById('musicIcon');
    bgm.volume = 0.3;
    window.addEventListener('load', () => {
        bgm.play().then(() => mIcon.innerText = "â¸ï¸").catch(() => {
            const startBgm = () => { bgm.play(); mIcon.innerText = "â¸ï¸"; document.removeEventListener('click', startBgm); };
            document.addEventListener('click', startBgm); document.addEventListener('touchstart', startBgm);
        });
    });
    function toggleMusic() { if (bgm.paused) { bgm.play(); mIcon.innerText = "â¸ï¸"; } else { bgm.pause(); mIcon.innerText = "â–¶ï¸"; } }
    function toggleAccount(t) {
        const d = document.getElementById(t + '-details'); const a = document.getElementById(t + '-arrow');
        const isShow = d.style.display === "block"; d.style.display = isShow ? "none" : "block"; a.innerText = isShow ? "â–¼" : "â–²";
    }
    function copyAccount(num) { navigator.clipboard.writeText(num).then(() => alert("ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.")); }

/* 6. êµ¬ê¸€ ì‹œíŠ¸ ë°©ëª…ë¡ ì—°ë™ */
const G_SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSfmPPZX_sGo5pQ9JE2pmDPQioTcFBUVMCTHf40BP3Hi3HrUN_zVYOFGqi-BiX3wJu_IdVOCiNCLdXm/pub?output=csv";

async function fetchGuestbook() {
    try {
        const response = await fetch(G_SHEET_CSV_URL);
        const data = await response.text();
        const rows = data.split("\n").slice(1); 
        const listContainer = document.getElementById('guestbook-list');
        listContainer.innerHTML = ''; 

        let hasMessage = false;

        rows.reverse().forEach(row => {
            const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/); 
            const nickname = cols[1]?.replace(/"/g, "").trim();
            const message = cols[2]?.replace(/"/g, "").trim();

            if (nickname && message) {
                hasMessage = true;
                const item = document.createElement('div');
                item.style.cssText = "background: #fdfaf7; padding: 18px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #f0ede9;";
                item.innerHTML = `
                    <div style="font-weight: bold; font-size: 0.9rem; color: #8a7b6a; margin-bottom: 8px;">âœ¨ ${nickname}</div>
                    <div style="font-size: 0.85rem; color: #555; line-height: 1.6; white-space: pre-wrap;">${message}</div>
                `;
                listContainer.appendChild(item);
            }
        });

        if (!hasMessage) {
            listContainer.innerHTML = '<p style="text-align: center; color: #ccc; padding: 40px 0;">ì²« ë²ˆì§¸ ì¶•í•˜ ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!</p>';
        }
    } catch (e) {
        console.error("ë°©ëª…ë¡ ë¡œë”© ì‹¤íŒ¨", e);
    }
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤í–‰
window.addEventListener('load', fetchGuestbook);

/* 7. ë°©ëª…ë¡ ì¸í˜ì´ì§€ ì „ì†¡ ë° ë¶ˆëŸ¬ì˜¤ê¸° í†µí•© ë¡œì§ */

// [í™•ì¸] ìƒˆë¡œ ë§Œë“œì‹  ë°©ëª…ë¡ ì „ìš© êµ¬ê¸€ í¼ì˜ ì£¼ì†Œë¡œ ë°”ê¿”ì£¼ì„¸ìš”! (ëì´ formResponseì—¬ì•¼ í•©ë‹ˆë‹¤)
const GB_FORM_URL = "https://docs.google.com/forms/d/1Rhnk0ETTKMJ3w4b1UmIYtpD3atnZrYP3v5bV34P5Ru4/formResponse"; 
const GB_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSfmPPZX_sGo5pQ9JE2pmDPQioTcFBUVMCTHf40BP3Hi3HrUN_zVYOFGqi-BiX3wJu_IdVOCiNCLdXm/pub?output=csv";

// ë°©ëª…ë¡ ì „ì†¡ í•¨ìˆ˜
function submitGuestbook() {
    const nickname = document.getElementById("gb-nickname").value;
    const message = document.getElementById("gb-message").value;

    if (!nickname || !message) { 
        alert("ë‹‰ë„¤ì„ê³¼ ë©”ì‹œì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ ì£¼ì„¸ìš”."); 
        return; 
    }

    const formData = new FormData();
    // ë°©ê¸ˆ ì°¾ì€ ë”°ëˆë”°ëˆí•œ ë²ˆí˜¸ë“¤ì…ë‹ˆë‹¤!
    formData.append("entry.1626987351", nickname); // ì„±í•¨(ë‹‰ë„¤ì„)
    formData.append("entry.1908824385", message);  // ì¶•í•˜ ë©”ì„¸ì§€

    fetch(GB_FORM_URL, { method: "POST", mode: "no-cors", body: formData })
    .then(() => {
        alert("ì†Œì¤‘í•œ ì¶•í•˜ ë©”ì‹œì§€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!\n(ë°ì´í„° ë°˜ì˜ê¹Œì§€ 1~2ë¶„ ì •ë„ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)");
        // ì…ë ¥ì°½ ë¹„ìš°ê¸°
        document.getElementById("gb-nickname").value = "";
        document.getElementById("gb-message").value = "";
    })
    .catch(() => alert("ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."));
}

// ë°©ëª…ë¡ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° í•¨ìˆ˜ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
async function fetchGuestbook() {
    try {
        const response = await fetch(GB_CSV_URL);
        const data = await response.text();
        const rows = data.split("\n").slice(1); 
        const listContainer = document.getElementById('guestbook-list');
        listContainer.innerHTML = ''; 

        let hasMessage = false;

        rows.reverse().forEach(row => {
            const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/); 
            const name = cols[1]?.replace(/"/g, "").trim();
            const msg = cols[2]?.replace(/"/g, "").trim();

            if (name && msg) {
                hasMessage = true;
                const item = document.createElement('div');
                item.style.cssText = "background: #fdfaf7; padding: 18px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #f0ede9;";
                item.innerHTML = `
                    <div style="font-weight: bold; font-size: 0.9rem; color: #8a7b6a; margin-bottom: 8px;">âœ¨ ${name}</div>
                    <div style="font-size: 0.85rem; color: #555; line-height: 1.6; white-space: pre-wrap;">${msg}</div>
                `;
                listContainer.appendChild(item);
            }
        });

        if (!hasMessage) {
            listContainer.innerHTML = '<p style="text-align: center; color: #ccc; padding: 40px 0;">ì²« ë²ˆì§¸ ì¶•í•˜ ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!</p>';
        }
    } catch (e) {
        console.error("ë°©ëª…ë¡ ë¡œë”© ì‹¤íŒ¨", e);
    }
}

window.addEventListener('load', fetchGuestbook);

function toggleGallery() {
    const morePhotos = document.querySelectorAll('.more-photo');
    const btn = document.getElementById('gallery-toggle-btn');
    const isHidden = morePhotos[0].style.display === 'none';

    if (isHidden) {
        // ì‚¬ì§„ í¼ì¹˜ê¸°
        morePhotos.forEach(photo => {
            photo.style.display = 'block';
        });
        btn.innerText = 'ì‚¬ì§„ ì ‘ê¸° âˆ§';
    } else {
        // ì‚¬ì§„ ì ‘ê¸°
        morePhotos.forEach(photo => {
            photo.style.display = 'none';
        });
        btn.innerText = 'ì‚¬ì§„ ë” ë³´ê¸° âˆ¨';
        
        // ì ‘ì—ˆì„ ë•Œ ê°¤ëŸ¬ë¦¬ ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤ ì´ë™ (ì„ íƒ ì‚¬í•­)
        document.getElementById('originalGallery').scrollIntoView({ behavior: 'smooth' });
    }
}


</script>
</body>
</html>
